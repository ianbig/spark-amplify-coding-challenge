{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport styles from \"./searchBar.module.css\";\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Title: \"\",\n      Year: \"\",\n      Type: \"Movie\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault(); // Is this safe ?\n\n    const APIkey = \"f1cadec4\";\n    const title = this.state.Title;\n    const year = this.state.Year;\n    const type = this.state.Type;\n    const url = 'https://www.omdbapi.com/?' + 'apikey=' + APIkey + '&type=' + type + '&' + 's=' + title + \"&y=\" + year;\n    sessionStorage.setItem('url', url);\n    sessionStorage.setItem(\"title\", title);\n    sessionStorage.setItem(\"year\", year);\n    sessionStorage.setItem('APIkey', APIkey);\n    sessionStorage.setItem(\"type\", type); //console.log(url);\n\n    window.location.href = \"/resultPage\";\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name === \"title\" ? \"Title\" : target.name === \"year\" ? \"Year\" : \"Type\"; // ES6 sytax for update state: setState only update changed part\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    /** \n     * Benefit of adding label:\n     *  * accessiblity for screen reader\n     *  * increase hit rate for ppl who have difficultity in clicking small checkbox\n     */\n    return __jsx(\"div\", {\n      className: styles.container\n    }, __jsx(\"form\", {\n      className: styles.flex_container,\n      onSubmit: this.handleSubmit\n    }, __jsx(\"div\", {\n      className: styles.flex_item\n    }, __jsx(\"label\", {\n      htmlFor: \"title\"\n    }, \"Title: \"), __jsx(\"input\", {\n      name: \"title\",\n      type: \"search\",\n      id: \"flex-items\",\n      value: this.state.Title,\n      onChange: this.handleChange\n    })), __jsx(\"div\", {\n      className: styles.flex_item\n    }, __jsx(\"label\", {\n      htmlFor: \"year\"\n    }, \"Year: \"), __jsx(\"input\", {\n      name: \"year\",\n      type: \"search\",\n      id: \"title\",\n      value: this.state.Year,\n      onChange: this.handleChange\n    })), __jsx(\"div\", {\n      className: styles.flex_item\n    }, __jsx(\"label\", {\n      htmlFor: \"type\"\n    }, \"Type: \"), __jsx(\"select\", {\n      name: \"type\",\n      type: \"search\",\n      value: this.state.Type,\n      onChange: this.handleChange\n    }, __jsx(\"option\", {\n      value: \"movie\"\n    }, \"Movie\"), __jsx(\"option\", {\n      value: \"series\"\n    }, \"Series\"), __jsx(\"option\", {\n      value: \"episode\"\n    }, \"Episode\"))), __jsx(\"div\", {\n      className: styles.flex_item\n    }, __jsx(\"label\", {\n      htmlFor: \"submit\"\n    }, __jsx(\"button\", {\n      name: \"submit\",\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default SearchBar;","map":null,"metadata":{},"sourceType":"module"}